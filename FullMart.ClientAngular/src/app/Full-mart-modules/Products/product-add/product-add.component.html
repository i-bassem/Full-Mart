<!-- <p>product-add works!</p> -->
<h1>New Product</h1>


<form #prdFrm="ngForm" (ngSubmit)="addProduct()" class="m-3 form-group">

    <!-- ProductName -->
    <div class="mb-3 w-25">
        <label for="pName" class="form-label">Product Name</label>
        <input type="text" #prdNameInp="ngModel" class="form-control" id="pName" name="prdname"
            [(ngModel)]="product.pName" required pattern="[A-Za-z0-9\s]+{3,}" />
        <div class="alert alert-warning" [hidden]="prdNameInp.valid || prdNameInp.untouched">
            <small *ngIf="prdNameInp.errors?.['required']">
                Name Is Required</small>
            <small *ngIf="prdNameInp.errors?.['pattern']">
                Name must be 3 letters at least</small>
        </div>
    </div>


    <!-- ProductPrice -->
    <div class="mb-3 w-25">
        <label for="pPrice" class="form-label">Product Price</label>
        <input type="number" min="0" class="form-control" id="pPrice" name="pPrice" [(ngModel)]="product.price" />
    </div>


    <!-- ProductQuantity -->
    <div class="mb-3 w-25">
        <label for="pQuantity" class="form-label">Product Quantity</label>
        <input type="number" min="0" class="form-control" id="pQuantity" name="pQuantity"
            [(ngModel)]="product.quantity" />
    </div>

    <!-- productDescription -->

    <div class="mb-3 w-25">
        <label for="pDescription" class="form-label">Product Description</label>
        <textarea type="text" rows="5" cols="10" class="form-control" id="pDescription" name="pDescription"
            [(ngModel)]="product.pDescription">

        </textarea>
    </div>


    <!-- productRate -->
    <!-- <div class="mb-3 w-25">
        <label for="pRate" class="form-label">Product Rate</label>
        <input type="number" min="0" max="5" class="form-control" id="pRate" name="pRate" [(ngModel)]="product.rate" />
    </div> -->


    <!-- productImage -->
    <!-- <div class="mb-3 w-25">
        <label for="pImage" class="form-label">Product Image</label>
        <app-upload (onUploadFinished)="uploadFinished($event)" ></app-upload>
    </div> -->



    <!-- ProductCategory -->
    <div class="mb-3 w-25">
        <label for="prdCat" class="form-label">Product Category</label>
        <select class="form-select" name="cat" id="prdCat" [(ngModel)]="product.categoryId">
            <option *ngFor="let cat of catList" [value]="cat.id">
                {{ cat.categoryName }}
            </option>
        </select>
    </div>
    <!-- ProductBrand -->
    <div class="mb-3 w-25">
        <label for="prdBrand" class="form-label">Product Brand</label>
        <select class="form-select" name="brand" id="prdBrand" [(ngModel)]="product.brandId">
            <option *ngFor="let brand of brandList" [value]="brand.id">
                {{ brand.brandName }}
            </option>
        </select>
    </div>



        <!-- productImage -->
    <div class="mb-3 w-25">
        <label for="pImage" class="form-label">Product Image</label>
        <app-upload (onUploadFinished)="uploadFinished($event)" ></app-upload>
    </div>


    <button [disabled]="prdFrm.invalid"  type="submit" class="btn btn-primary">Submit</button>
</form>